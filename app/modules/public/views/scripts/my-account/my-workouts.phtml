<?= $this->partial('_breadcrumbs.phtml', 
				array('t' 		  => $this->t,					  
					  'page'	  => $this->t->_('My Workouts'),
	)); 
?>

<div id="page" class="dashboard">
	<div class="row-fluid">
		<div class="span12">			
			<div class="widget">				
				<div class="widget-body">
					<table class="table table-striped table-bordered" id="sample_1">
						<thead>
							<tr>
								<th><?= $this->t->_('Workout Name'); ?></th>
						        <th><?= $this->t->_('Days'); ?></th>
						        <th><?= $this->t->_('Start Date'); ?></th>
						        <th><?= $this->t->_('End Date'); ?></th>
						        <th><?= $this->t->_('Actions'); ?></th>
							</tr>
						</thead>
						<tbody>
							<?php
								foreach($this->workouts as $workout) :
							?>	
						      <tr class="odd gradeX">
						        <td><a href="<?= $this->publicUrl('view-workout', 'my-account'); ?>/id/<?= $workout['workoutId']; ?>"><?= $this->escape($workout['name']); ?></a></td>
						        <td><?= $this->escape($workout['day']); ?></td>
						        <td><?= ($workout['startDate'] != '0000-00-00') ? $this->escape($this->dateFormat($workout['startDate'], Zend_Date::DATE_FULL)) : $this->t->_('Not entered') ?></td>
						        <td><?= ($workout['endDate'] != '0000-00-00') ? $this->escape($this->dateFormat($workout['endDate'], Zend_Date::DATE_FULL)) : $this->t->_('Not entered') ?></td>
						        <td>
									<a href="javascript:void(0);" class="icon huge manageworkout" rel="<?= $workout['workoutId']; ?>" data-toggle="modal"><i class="icon-cog"></i> <?= $this->t->_('Manage'); ?></a> 	
									<a href="#editworkout_dialog" class="icon huge editworkout" rel="<?= $workout['workoutId']; ?>" data-toggle="modal"><i class="icon-pencil"></i> <?= $this->t->_('Edit'); ?></a> 
									<a href="#deleteworkout_dialog" class="icon huge deleteworkout" rel="<?= $workout['workoutId']; ?>" data-toggle="modal"><i class="icon-remove"></i> <?= $this->t->_('Delete'); ?></a> 		
								</td>						        
						      </tr>
						    <?php 
								endforeach;
							?>
							
						</tbody>
					</table>
					<div>
						<a class="btn btn-inverse editworkout" data-toggle="modal" href="#editworkout_dialog"><i class="icon-plus"></i> <?= $this->t->_('Add New Workout'); ?></a>
				    </div>				    
				</div>
			</div>			
		</div>
	</div>
</div>

<script>
$('.editworkout').bind('click', function() {
	btn_editworkout($(this).attr('rel'));
});

$('.manageworkout').bind('click', function() {
	var id = $(this).attr('rel');
	btn_manageworkout('<?= $this->t->_('Close'); ?>', id);
});

$('.deleteworkout').bind('click', function() {	
	btn_deleteworkout($(this).attr('rel'));
});
</script>